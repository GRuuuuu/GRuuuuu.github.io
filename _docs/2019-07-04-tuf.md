---
title: "SW Update를 안전하게! : TUF(The Update Framework)"
docs: 
  - Framework
tags:
  - Security
  - Framework
  - Key
last_modified_at: 2019-07-08T13:00:00+09:00
author_profile: true
sitemap :
  changefreq : daily
  priority : 1.0
---

## Overview
현재 IT세상에서는 문자 그대로 수천개의 소프트웨어 업데이트 시스템이 사용되고 있습니다.  

정적인 소프트웨어는 드물며, 심지어 일부 저장소는 몇 분마다 소프트웨어 또는 프로젝트 메타데이터에 대한 업데이트를 받습니다.  
이와 같이 증가하는 업데이트들은 이를 관리하는 시스템에 대한 **보안대책의 필요성을 강조**시켰고, 지난 10년간 업데이트 파일의 신뢰성을 향상시키기위해 많은 방법이 생겨났지만 대부분은 저장소를 고려하지 않은 방법이었습니다.  

`TUF`는 `malware`나 키 노출(`Key Compromise`)등 기타 공격에 대해 system resilience를 가지도록 설계되었습니다.  

설계의 주된 목표는 다음과 같습니다. :   
- 현재 존재하고 앞으로 생겨날 업데이트 시스템의 보안에 대한 `framework` 제공(라이브러리, 파일포맷, 유틸리티 등)  
- 키 노출을 **최소화**시킬 방법을 제공  
- 다양한 업데이트 시스템에 대한 **유연성**  
- 기존의 업데이트 시스템에 대한 쉬운 통합(**easy to integrate**)    

지금부터는 TUF가 어떠한 방법으로 보안성을 유지하는지 살펴보도록 하겠습니다.  

>이 문서는 [The Update Framework](https://theupdateframework.github.io/)를 한글화하고 조금 더 이해가 쉽게 조미료를 친 문서입니다.  

## Security
보통 소프트웨어 업데이트 시스템이 "**Secure**"하다라고 느껴질 때는 다음과 같습니다.  
- 사용할 수 있는 최신 업데이트를 **적절한 때**에 알고있음  
- 다운로드받는 모든 파일은 **정확한 파일**
- 파일을 확인하거나 다운로드를 받는것만으로는 **안좋은 결과가 발생하지 않는다**.

이를 실현하기위해서는 다양한 공격에 대한 예방 전략이 필요합니다.  

### Attacks and Weaknesses  
지금부터는 소프트웨어 업데이트 시스템에 가해질 수 있는 몇 가지 공격들에 대해 알아보겠습니다.   
- **Arbitrary software installation**  
  다운로드 요청에 대해 공격자는 임의의 파일을 제공하고 클라이언트 시스템에서는 아무 의심없이 모든 파일을 설치함  
- **Rollback attacks**  
  공격자는 소프트웨어 업데이트 시스템에 클라이언트가 요구한 파일보다 오래된 파일을 요구, 파일 버전에 대해 알 방법이 없는 상태에서 클라이언트는 의심없이 파일을 설치하게 되고 해당 버전의 취약점은 공격자에 의해 이용될 수 있음.  
  (https://darksoulstory.tistory.com/320)  
- **Fast-forward attacks**  
  업데이트시키려는 파일의 메타데이터속 파일 버전 정보를 임의로 증가시킴으로써 이후의 업데이트를 강제로 막음.  
- **Indefinite freeze attacks**   
  공격자가 소프트웨어 업데이트 시스템에게 업데이트하려고하는 버전에 대한 파일을 보여줌. 결과적으로 사용자는 새로운 파일(업데이트하기 위한)을 발견하지 못함.  
- **Endless data attacks**
  
