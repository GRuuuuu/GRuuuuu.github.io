---
title: "Knative란? (basic)"
categories: 
  - Container
tags:
  - Container
  - Cloud
  - MSA
  - ServiceMesh
  - Istio
last_modified_at: 2019-12-30T13:00:00+09:00
author_profile: true
sitemap :
  changefreq : daily
  priority : 1.0
---

## 1. Overview
오픈소스 서버리스 솔루션인 `Knative`에 대해서 알아보겠습니다.  

> K-native라고 읽습니다.

# 1. Serverless? (FaaS)
`Knative`가 무엇인지 알아보기 전에, **Serverless**라는 단어를 짚고 넘어갈 필요가 있습니다.  

Serverless Architecture란 단어그대로 서버가 필요없는 구조를 뜻합니다.  
하지만 실제로 서버가 존재하지 않는다는 것은 아니고, 개발자나 관리자가 **서버인프라에 대해 신경쓰지 않아도 된다는** 뜻입니다.  

이러한 구조 하에서는 **요청이 있을때만 필요한 코드를 실행**하고, 요청이 많을 경우에는 그에 비례하는 자원을 할당하여 동시에 처리하는 방법으로 **사용률과 확장성을 극대화**할 수 있습니다.  

>참고 : [호롤리한하루/Serverless Image Recognition with Cloud Functions](https://gruuuuu.github.io/simple-tutorial/visual-recog-with-cloudFn/#4-basic-concepts)  

### 장점
- 함수가 호출된 만큼만 비용이 청구, 비용절약
- 인프라 관리 필요없음

### 단점
- 각 함수에서 사용할 수 있는 **자원이 제한됨** 
    - 계속 켜둬야 하는 웹소켓같은 경우 사용불가
- 벤더에 강한 의존성을 가짐 
    - `AWS Lambda`
    - `Azure Functions`
    - `Google Cloud Functions`
    - `IBM Cloud Functions`
- 로컬 데이터 사용 불가능
    - stateless
    - 클라우드 스토리지 사용해야함

# 2. Knative
## Background
위 서버리스 솔루션들은 특정 클라우드 플랫폼에 **의존성**을 가지고 있습니다. 이를 해결하기 위해 나온 **오픈소스 서버리스 솔루션**이 `Knative`입니다.  

## 특징
- **Kubernetes** 위에서 기동
- 특정 클라우드 종속성이 없음
- `On-Premise`에서도 설치가능

지원하는 클라우드 목록 : [knative/Installing Knative](https://knative.dev/docs/install/)



## 기능
![image](https://user-images.githubusercontent.com/15958325/71711867-42b57c80-2e46-11ea-8bb6-4aac375151fd.png)  
stateless app뿐만아니라 이벤트를 받아 처리하는 이벤트 핸들링을 위한 모델제공, 컨테이너를 빌드할 수 있는 기능을 제공합니다.  

크게 두가지 Component로 나뉘며 다음과 같습니다.  

### Serving
Knative Serving은 serverless application이나 function들을 배포하고 서빙하는 역할을 합니다.  

- Serverless 컨테이너의 빠른 배포
- 자동 scale up & down
- Istio기반 라우팅 & 네트워크 프로그래밍
- 배포된 코드와 구성의 스냅샷기능


![image](https://user-images.githubusercontent.com/15958325/71712412-742f4780-2e48-11ea-9882-4173d7ea9c59.png)  




### Eventing
![image](https://user-images.githubusercontent.com/15958325/71712448-9aed7e00-2e48-11ea-8809-db68f914d3a8.png)  





