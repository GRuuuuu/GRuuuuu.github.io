---
title: "í˜¸ë‹¤ë‹¥ í†ºì•„ë³´ëŠ” Kafka"
categories: 
  - Integration
tags:
  - Kafka
last_modified_at: 2023-02-17T13:00:00+09:00
author_profile: true
toc: true
sitemap :
  changefreq : daily
  priority : 1.0
---

## Overview
ì˜ˆë¥¼ ë“¤ì–´ì„œ íŠ¹ì • ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” appì´ ìˆë‹¤ê³  ê°€ì •í•˜ê³  ê·¸ appì˜ ë¡œê·¸ë¥¼ ë°›ì•„ì„œ ì²˜ë¦¬í•˜ëŠ” ë˜ë‹¤ë¥¸ appì´ ìˆë‹¤ê³  ê°€ì •í•´ë´…ì‹œë‹¤.  

ëŒ€ì¶© ì•„ë˜ì™€ ê°™ì€ ëª¨ìŠµì´ ë˜ê² ìŠµë‹ˆë‹¤.  
![](https://raw.githubusercontent.com/GRuuuuu/hololy-img-repo/main/2023/2023-02-22-kafka-concept/1.png)    

í•˜ì§€ë§Œ ì ì  ë” ë³µì¡í•œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì–´ë–»ê²Œ ë ê¹Œìš”?  
![](https://raw.githubusercontent.com/GRuuuuu/hololy-img-repo/main/2023/2023-02-22-kafka-concept/2.png)    
ìœ„ì™€ ê°™ì´ ìˆ˜ë§ì€ ì†ŒìŠ¤ applicationê³¼ íƒ€ê²Ÿ applicationë“¤ì´ ì§ì ‘ì ìœ¼ë¡œ í†µì‹ í•˜ê²Œ ë˜ë©´ì„œ ì„œë¹„ìŠ¤ êµ¬ì¡°ë„ ë³µì¡í•´ì§€ê³ , í†µì‹  í”„ë¡œí† ì½œì˜ íŒŒí¸í™”ê°€ ì‹¬í•´ì§€ê²Œ ë©ë‹ˆë‹¤.  

ì´ë ‡ê²Œ ë˜ë©´ **ë°°í¬ë‚˜ ì¥ì• ì— ëŒ€ì‘í•˜ê¸° ì–´ë ¤ì›Œì§€ê³ , ìœ ì§€ë³´ìˆ˜ê°€ í˜ë“¤ì–´ì§„ë‹¤**ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.  

# Apache Kafkaë€?
## íƒ„ìƒ
ì†Œì…œ ë„¤íŠ¸ì›Œí¬ ì•±ì¤‘ í•˜ë‚˜ì¸ "**LinkedIn**"ì˜ ê°œë°œìë“¤ë„ ì´ì™€ ê°™ì€ ë¬¸ì œë¥¼ ê°–ê³  ìˆì—ˆìŠµë‹ˆë‹¤.  
2011ë…„ **LinkedIn**ì€ ì´ëŸ° ë³µì¡í•¨ì„ í•´ê²°í•˜ê³ ì ì†ŒìŠ¤appê³¼ íƒ€ê²Ÿappì˜ ì»¤í”Œë§ì„ ë‚®ê²Œ í•˜ë ¤í•˜ì˜€ê³  ë¶„ì‚°ë©”ì‹œì§•ì‹œìŠ¤í…œì¸ **Apache Kafka**ë¥¼ ê°œë°œí•˜ì˜€ìŠµë‹ˆë‹¤.  

![](https://raw.githubusercontent.com/GRuuuuu/hololy-img-repo/main/2023/2023-02-22-kafka-concept/3.png)  

ê·¸ë¦¼ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤ì‹œí”¼, KafkaëŠ” ë°ì´í„° íŒŒì´í”„ë¼ì¸ì„ íŒŒí¸í™”í•˜ì§€ì•Šê³  **ëª¨ë“  ì´ë²¤íŠ¸/ë°ì´í„°ì˜ íë¦„ì„ ì¤‘ì•™ì§‘ì¤‘í™”** ì‹œì¼°ìŠµë‹ˆë‹¤.   
ê·¸ë˜ì„œ ëª¨ë“  applicationì€ ë‹¤ë¥¸ appì´ì•„ë‹ˆë¼ kafkaë§Œ ë°”ë¼ë³´ë©´ ë˜ëŠ” êµ¬ì¡°ê°€ ë˜ëŠ” ê²ƒì´ì£ .  

KafkaëŠ” 2011ë…„ ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê³µê°œë˜ì—ˆê³ , 2012ë…„ 10ì›” Apache ì¸íë² ì´í„°ë¥¼ ì¢…ë£Œí•œ ìƒíƒœì…ë‹ˆë‹¤.  
í˜„ì¬ Kafkaê°œë°œì„ ì£¼ë„í•˜ë˜ Jay Krepsë¥¼ ë¹„ë¡¯í•œ ì¼ë¶€ ì—”ì§€ë‹ˆì–´ë“¤ì€ [Confluent](https://www.confluent.io/)ë¼ëŠ” íšŒì‚¬ë¥¼ ì„¤ë¦½í•˜ì—¬ Kafkaê´€ë ¨ ì¼ë“¤ì„ í•˜ê³  ìˆë‹¤ê³  í•©ë‹ˆë‹¤.  

>ì—¬ë‹´ìœ¼ë¡œ KafkaëŠ” ìœ ëª…í•œ ì‘ê°€ì¸ í”„ë€ì¸  ì¹´í”„ì¹´(Franz Kafka)ì—ì„œ ë”°ì™”ë‹¤ê³ í•˜ê³ , ì‹¤ì œ êµ¬ì¡°ë‚˜ ê¸°ëŠ¥ê³¼ëŠ” í¬ê²Œ ê´€ê³„ê°€ ì—†ë‹¤ê³  í•©ë‹ˆë‹¤.  
>
>"I thought that since Kafka was a system optimized for writing, using a writerâ€™s name would make sense. I had taken a lot of lit classes in college and liked Franz Kafka. Plus the name sounded cool for an open source project.
>
>So basically there is not much of a relationship."

## Components
ê·¸ëŸ¼ Kafkaê°€ ì–´ë–¤ êµ¬ì¡°ë¡œ ì´ë¤„ì ¸ìˆëŠ”ì§€ ì‚´í´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.  

### Topic
KafkaëŠ” ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼ì…ë‹ˆë‹¤. Kafkaì— ì „ë‹¬ë˜ëŠ” ë©”ì„¸ì§€ ìŠ¤íŠ¸ë¦¼ì˜ ì¶”ìƒí™”ëœ ê°œë…ì„ Topicì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.  

![](https://raw.githubusercontent.com/GRuuuuu/hololy-img-repo/main/2023/2023-02-22-kafka-concept/4.png)  

ì´ë²¤íŠ¸ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” Producerê°€ ì–´ë–¤ Topicì— ë°ì´í„°ë¥¼ ì ì¬í• ê±´ì§€, ConsumerëŠ” ì–´ë–¤ Topicì—ì„œ ë°ì´í„°ë¥¼ ì½ì„ê±´ì§€(êµ¬ë…í• ê±´ì§€) ì •í•˜ê²Œ ë©ë‹ˆë‹¤.  

Topicì€ ì—¬ëŸ¬ê°œ ìƒì„±í•  ìˆ˜ ìˆìœ¼ë©°, ê°ê°ì˜ ë©”ì„¸ì§€ë¥¼ ëª©ì ì— ë§ê²Œ êµ¬ë¶„í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.  

### Partition
ê° Topicì€ ë‚´ë¶€ì— ë” ì„¸ë¶„í™”ëœ ë‹¨ìœ„ì¸ Partitionì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.  

![](https://raw.githubusercontent.com/GRuuuuu/hololy-img-repo/main/2023/2023-02-22-kafka-concept/5.png)  

- ë©”ì„¸ì§€ê°€ ë“¤ì–´ì˜¤ë©´ ìˆœì°¨ì ìœ¼ë¡œ ì¶”ê°€ë˜ë©°, Consumerê°€ ë©”ì„¸ì§€ë¥¼ ì½ì„ ë•Œì—ëŠ” Queueì˜ ì„ ì…ì„ ì¶œ(FIFO)ê³¼ ë¹„ìŠ·í•˜ê²Œ ì˜¤ë˜ëœ ë©”ì„¸ì§€ë¶€í„° ì½ê²Œë¨
- Queueì™€ ë‹¤ë¥¸ ì ì€ **ë ˆì½”ë“œë¥¼ ì½ì–´ë„ ì‚¬ë¼ì§€ì§€ ì•ŠëŠ”ë‹¤**ëŠ” ì 
- ì´ê²Œ ê°€ëŠ¥í•œ ì´ìœ ëŠ” Queueê°€ ì•„ë‹Œ **ì‹¤ì œ íŒŒì¼ì‹œìŠ¤í…œ**ì— ë°ì´í„°ê°€ ì €ì¥ë˜ê¸° ë•Œë¬¸
- ë•Œë¬¸ì— Consumerì²˜ë¦¬ê°€ ëŠ¦ê±°ë‚˜ Kafkaí´ëŸ¬ìŠ¤í„°ì— ë¬¸ì œê°€ ìƒê²¨ë„ ë©”ì„¸ì§€ ì†ì‹¤ì´ ë°œìƒí•˜ì§€ ì•ŠìŒ
- Consumerê°€ Partitionì˜ ë ˆì½”ë“œë¥¼ ì½ì„ ë•Œì—ëŠ” `offset`ì´ë¼ëŠ” ì €ì¥ìœ„ì¹˜ë¥¼ ê¸°ì–µí•˜ê³  ìˆì–´ì„œ ë¬¸ì œê°€ ìƒê²¨ë„ **ì½ë˜ ìœ„ì¹˜ë¶€í„° ë‹¤ì‹œ ì½ê¸° ê°€ëŠ¥**
- Partitionì—ëŠ” ì—¬ëŸ¬ Consumer ê·¸ë£¹ì´ ë¶™ì„ ìˆ˜ ìˆê³ , ê·¸ë£¹ì´ ë‹¤ë¥´ê³  [auto.offset.reset=earlist](https://kafka.apache.org/documentation/#consumerconfigs_auto.offset.reset) ì¼ ê²½ìš° ê° Consumer ê·¸ë£¹ì€ 0ë²ˆ ë ˆì½”ë“œë¶€í„° ì½ê¸° ì‹œì‘í•¨  

Topicì€ í•˜ë‚˜ ì´ìƒì˜ Partitionì„ ê°€ì§ˆ ìˆ˜ ìˆëŠ”ë°, ì—¬ëŸ¬ê°œì˜ Partitionì„ ê°€ì§€ê³  ìˆëŠ” ê²½ìš°ë¥¼ ìƒê°í•´ë³´ê² ìŠµë‹ˆë‹¤.  

![](https://raw.githubusercontent.com/GRuuuuu/hololy-img-repo/main/2023/2023-02-22-kafka-concept/6.png)  

- ë°ì´í„°ë¥¼ ì ì¬í•  ì‹œ, í‚¤ê°’ì„ ì§€ì •í•´ì£¼ì–´ **íŠ¹ì • Partition**ì—ë§Œ ë°ì´í„° ì ì¬ ê°€ëŠ¥
- í‚¤ê°’ì„ ì§€ì •í•´ì£¼ì§€ ì•Šì•˜ì„ ê²½ìš°, **Round-robinë°©ì‹**ìœ¼ë¡œ ë°ì´í„° ì ì¬
- Partitionì„ ëŠ˜ë¦¬ëŠ” ê²ƒì€ ê°€ëŠ¥í•˜ì§€ë§Œ ì¤„ì¼ìˆ˜ëŠ” ì—†ìŒ (ì—†ì• ë ¤ë©´ Topic ì „ì²´ë¥¼ ì‚­ì œ)
- Partitionì„ ëŠ˜ë¦¬ë©´ Consumerë¥¼ ëŠ˜ë ¤ì„œ **ë°ì´í„° ì²˜ë¦¬ë¥¼ ë¶„ì‚°**í•  ìˆ˜ ìˆìŒ
- Partitioningì„ í†µí•œ ë¶„ì‚° ì²˜ë¦¬ë¡œ, **ë°ì´í„°ì˜ ìˆœì„œê°€ ë³´ì¥ë˜ë©´ì„œ ì„±ëŠ¥ì„ í–¥ìƒ**ì‹œí‚¬ ìˆ˜ ìˆìŒ

> ì˜ˆë¥¼ ë“¤ì–´ì„œ 4ê°œì˜ Producerì—ì„œ 1ê°œì˜ Partitonì— ì „ì†¡ë˜ëŠ”ë° 1ì´ˆê°€ ê±¸ë¦¬ëŠ” ë©”ì„¸ì§€ë¥¼ ë³´ëƒˆë‹¤ê³  ìƒê°í•´ë´…ì‹œë‹¤.  
>MQì‹œìŠ¤í…œ í•˜ì—ì„œëŠ”, ë°˜ë“œì‹œ **ë©”ì„¸ì§€ì˜ ìˆœì„œê°€ ë³´ì¥**ë˜ì–´ì•¼í•˜ê¸° ë•Œë¬¸ì— 1ì´ˆê°€ ê±¸ë¦°ë‹¤ê³  í•´ë„ ì´ë¥¼ ëª¨ë‘ ì²˜ë¦¬í•˜ëŠ”ë° 4ì´ˆì˜ ì‹œê°„ì´ ì†Œìš”ë˜ê²Œ ë©ë‹ˆë‹¤.  
>ê²°êµ­ **ìˆœì„œë¥¼ ì§€í‚¤ë©° ë³‘ë ¬ì ìœ¼ë¡œ ë©”ì„¸ì§€ë¥¼ ì²˜ë¦¬**í•˜ê¸° ìœ„í•´ì„œëŠ” í•˜ë‚˜ì˜ Topicì•ˆì— **ì—¬ëŸ¬ê°œì˜ Partition**ì„ ë‘ ìœ¼ë¡œì¨ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
>ì¦‰, 4ê°œì˜ Producerê°€ ë©”ì„¸ì§€ë¥¼ 4ê°œì˜ Partitionì—ë‹¤ ë³´ë‚¸ë‹¤ë©´ 4ì´ˆê°€ì•„ë‹Œ, 1ì´ˆë§Œ ì†Œìš”ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.  

- ë‹¤ë§Œ Partitionì„ ëŠ˜ë¦¬ëŠ” ê²ƒì´ ëŠ¥ì‚¬ëŠ” ì•„ë‹˜
  - **ë¦¬ì†ŒìŠ¤ ë‚­ë¹„** : ê° Partitionì€ Brokerì˜ directoryì™€ ë§¤í•‘, ì €ì¥ë˜ëŠ” ë°ì´í„°ë§ˆë‹¤ `Index`, `ì‹¤ì œë°ì´í„°`ê°€ ì €ì¥ë¨
  - **ì¥ì• ë³µêµ¬ ì‹œê°„ ì¦ê°€** : replicationì„ ì„¤ì •í–ˆì„ ê²½ìš°, Brokerì— ì¥ì• ê°€ ë°œìƒí•˜ë©´ ê° partitionì— ëŒ€í•œ ë¦¬ë”ë¥¼ ì„ ì¶œí•´ì•¼í•˜ë¯€ë¡œ partitionê°œìˆ˜ê°€ ë§ìœ¼ë©´ ê·¸ë§Œí¼ ì‹œê°„ì†Œìš”

Partitionì— ì €ì¥ëœ ë°ì´í„°ëŠ” ì‚­ì œí•  ì‹œì ì„ ì„¤ì •í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
- `log.retention.ms` : ìµœëŒ€ record ë³´ì¡´ì‹œê°„
- `log.retention.byte` : ìµœëŒ€ record ë³´ì¡´í¬ê¸°(byte)

### Broker
BrokerëŠ” Kafkaê°€ ì„¤ì¹˜ë˜ì–´ìˆëŠ” ì„œë²„ì˜ ë‹¨ìœ„ì…ë‹ˆë‹¤.  
![](https://raw.githubusercontent.com/GRuuuuu/hololy-img-repo/main/2023/2023-02-22-kafka-concept/7.png)   

- ë³´í†µ 3ê°œ ì´ìƒ ê¶Œì¥
- replicationì„ ì§€ì •í•´ì£¼ë©´ ê·¸ ìˆ˜ë§Œí¼ **ì›ë³¸+ë³µì œë³¸** ìƒì„±
- ì›ë³¸ì€ **leader partition**, ë³µì œë³¸ì€ **follower partition**ìœ¼ë¡œ ë¶€ë¥´ë©° ì´ë¥¼ í•©ì³ì„œ **ISR**(In Sync Replica)ë¼ê³  ë¶€ë¦„  
- leaderê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ê²½ìš° followerê°€ leaderì˜ ì—­í• ì„ ëŒ€ì‹ í•¨
- Producer(kafka-client)ëŠ” ê° Topicì˜ **leader partitionì— ë°ì´í„°ë¥¼ ì „ì†¡**, `ack`ê°’ì„ ì„¤ì •í•´ì„œ ë°ì´í„° ë³µì œì— ëŒ€í•œ commitê°€ëŠ¥
  - `0` : leader partitionì— ë°ì´í„° ì „ì†¡í•˜ê³  ì‘ë‹µì•ˆë°›ìŒ (ë³´ë‚´ëŠ” ì‚¬ì´ì— ë°ì´í„°ìœ ì‹¤ê°€ëŠ¥ì„± ìˆìŒ)
  - `1` : leader partitionì— ë°ì´í„° ì „ì†¡í•˜ê³  ì‘ë‹µë°›ìŒ (leaderê°€ ë°›ê³  followerë“¤í•œí…Œ ë³µì‚¬í•˜ê¸°ì „ì— leaderê°€ ì£½ìœ¼ë©´ ë°ì´í„° ìœ ì‹¤ê°€ëŠ¥ì„± ìˆìŒ)
  - `all` : ëª¨ë“  replicaì— ë°ì´í„° ë³µì œ í›„ ì‘ë‹µë°›ìŒ(ê° brokerë“¤í•œí…Œì„œ ì‘ë‹µë°›ìŒ, ë°ì´í„°ìœ ì‹¤X, ì†ë„ëŠë¦¼)
- replicationì´ ë§ì•„ì§ˆìˆ˜ë¡ **ê³ ê°€ìš©ì„±**ì´ ë†’ì•„ì§€ì§€ë§Œ ì €ì¥ê³µê°„ë„ ë§ì´ í•„ìš”í•˜ê³ (në°°), Broker ë¦¬ì†ŒìŠ¤ë„ ë§ì´ ì‚¬ìš©í•˜ê²Œ ë¨(replicationìƒíƒœì²´í¬)

### Producer
ProducerëŠ” ë°ì´í„°ë¥¼ ë§Œë“¤ì–´ë‚´ê³  Kafka Topicì— ë°ì´í„°ë¥¼ ì ì¬ì‹œí‚¤ëŠ” ì£¼ì²´ì…ë‹ˆë‹¤.  

- íŠ¹ì • Topicìœ¼ë¡œ ë°ì´í„°ë¥¼ publish
- kafka brokerë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í• ë•Œ ì„±ê³µì—¬ë¶€ë¥¼ ì•Œë ¤ì£¼ê³ , ì‹¤íŒ¨í•˜ë©´ ì¬ì‹œë„ ê°€ëŠ¥


### Consumer
ConsumerëŠ” Kafka Topicì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ëŠ” ì£¼ì²´ì…ë‹ˆë‹¤.  

![](https://raw.githubusercontent.com/GRuuuuu/hololy-img-repo/main/2023/2023-02-22-kafka-concept/8.png)  

- Consumerê°€ ë°ì´í„°ë¥¼ ì½ì€ ì§€í‘œì¸ `offset`ì •ë³´ëŠ”  `__consumer_offset` í† í”½ì— ì €ì¥ë˜ì–´ Consumerì— ì¥ì• ê°€ ë°œìƒí•´ë„ ì›ë˜ ìœ„ì¹˜ë¶€í„° ì½ê¸° ì‹œì‘ ê°€ëŠ¥
- Topicì˜ Partitionê³¼ Consumerê·¸ë£¹ì€ **1:N**ë§¤ì¹­ìœ¼ë¡œ, ë™ì¼ ê·¸ë£¹ë‚´ í•œê°œì˜ ì»¨ìŠˆë¨¸ë§Œ ì—°ê²°ê°€ëŠ¥ -> **ë©”ì„¸ì§€ê°€ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬ë˜ë„ë¡ ë³´ì¥**
- Consumer ê·¸ë£¹ ë‚´ Consumer ê°œìˆ˜ëŠ” Partitionê°œìˆ˜ë³´ë‹¤ **ì ê±°ë‚˜ ê°™ì•„ì•¼** í•¨

Consumer Groupì´ ì—¬ëŸ¬ê°œ ì¡´ì¬í•  ê²½ìš°,  
![](https://raw.githubusercontent.com/GRuuuuu/hololy-img-repo/main/2023/2023-02-22-kafka-concept/9.png)  

- ì—¬ëŸ¬ Consumer Groupì„ í†µí•´ ë³‘ë ¬ì²˜ë¦¬ ê°€ëŠ¥
- `__consumer_offset` í† í”½ì—ëŠ” Consumer groupë³„/í† í”½ë³„ë¡œ offsetì„ ë‚˜ëˆ ì„œ ì €ì¥í•˜ê¸° ë•Œë¬¸ì—	**Consumer groupì´ ë‹¤ë¥´ë©´ ê°ìì˜ ê·¸ë£¹ì€ ì„œë¡œ ì˜í–¥ì„ ë¼ì¹˜ì§€ì•ŠìŒ**

## Kafka íŠ¹ì§•

### 1. ë†’ì€ ì²˜ë¦¬ëŸ‰ (High throughput)
- **batch**ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ ì§§ì€ ì‹œê°„ì•ˆì— ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ consumerê¹Œì§€ ì „ë‹¬ê°€ëŠ¥
- ëŒ€ìš©ëŸ‰ ì‹¤ì‹œê°„ ë¡œê·¸ì²˜ë¦¬ì— íŠ¹í™”

### 2. í™•ì¥ì„± (Scalability), ê³ ê°€ìš©ì„±(High Availability)
- **ì‰½ê²Œ Broker, Partition, Consumer Group ì¶”ê°€ ê°€ëŠ¥**
  - Broker í™•ì¥
    - ë³µì œë³¸(replication)ì„ ëŠ˜ë ¤ì„œ ë°ì´í„° ìœ ì‹¤ ë°©ì§€
    - ë„ˆë¬´ ëŠ˜ë ¸ì„ ì‹œ, ì„±ëŠ¥ ì €í•˜ì˜ ì´ìŠˆ + ë†’ì€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰
  - Partition í™•ì¥
    - ë°ì´í„° ì²˜ë¦¬ ë¶„ì‚°
    - ëŠ˜ë ¸ë‹¤ê°€ ë‹¤ì‹œ ì¤„ì´ëŠ” ê²ƒì´ ì–´ë ¤ì›€ (Topicì „ì²´ ì‚­ì œí•´ì•¼í•¨)
    - ë¦¬ì†ŒìŠ¤ë‚­ë¹„ + ì¥ì•  ë³µêµ¬ ì‹œê°„ ì¦ê°€
  - Consumer Group í™•ì¥
    - ë³‘ë ¬ì²˜ë¦¬ 
- Topic ë‚´ Partition ë³µì œ ê°€ëŠ¥
  - ë³µì œ ìˆ˜ë§Œí¼ Partitionì˜ ë³µì œë³¸ì´ ê° Brokerì— ìƒê¹€


### 3. ë‚®ì€ ì˜ì¡´ë„
- ì†ŒìŠ¤ì™€ íƒ€ê²Ÿ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì˜ì¡´ë„ë¥¼ ë‚®ì¶°ì¤Œ
- ì—¬ëŸ¬ Producer, Consumerê°€ ìƒí˜¸ ê°„ì„­ ì—†ì´ ë©”ì„¸ì§€ ì“°ê³  ì½ê¸° ê°€ëŠ¥
- **BrokerëŠ” Consumerì™€ Partitionê°„ ë§¤í•‘ ê´€ë¦¬ë§Œ ì§‘ì¤‘**
- ë©”ì„¸ì§€ í•„í„°, ì¬ì „ì†¡ê³¼ ê°™ì€ ì¼ë“¤ì€ Producerì™€ Consumerì— ìœ„ì„

### 4. ì´ë²¤íŠ¸ ë³´ì¡´ì„±
- í•œë²ˆ ì´ë²¤íŠ¸ê°€ Partitionì— ì €ì¥ë˜ë©´ ì •í•´ì§„ retension ê¸°ê°„ë™ì•ˆ ë³´ì¡´
- Consumerê°€ í•­ìƒ ë– ìˆì§€ ì•Šì•„ë„, `offset`ì„ í†µí•œ ì½ë˜ ìœ„ì¹˜ ê¸°ì–µ
- Partitionì˜ ì´ë²¤íŠ¸ë“¤ì€ íŒŒì¼ì‹œìŠ¤í…œì— ì €ì¥ë¨

### 5. Page Cache & Zero Copy
>-**Page Cache** : ì²˜ë¦¬í•œ ë°ì´í„°ë¥¼ RAMì— ì˜¬ë ¤ì„œ ë°ì´í„°ì— ëŒ€í•œ ì ‘ê·¼ì´ ë°œìƒí•  ë•Œ Disk IOë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•Šê³  ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ë²•  
>-**Zero Copy** : ì¼ë°˜ì ìœ¼ë¡œëŠ” Diskì—ì„œ ë°ì´í„°ë¥¼ ì½ê³  RAMì— ì˜¬ë¦¬ê³  ë„¤íŠ¸ì›Œí¬ ì „ì†¡ì„ í•˜ì§€ë§Œ, Zero CopyëŠ” Diskì—ì„œ ë°ì´í„°ë¥¼ ì½ìŒê³¼ ë™ì‹œì— ë„¤íŠ¸ì›Œí¬ ì „ì†¡ì„ í•¨

- Producerê°€ Brokerì— ë°ì´í„°ë¥¼ ì ì¬í•  ë•Œ ì¦‰ì‹œ Diskì— íŒŒì¼ì„ ì €ì¥í•˜ëŠ” ëŒ€ì‹  `Page Cache`ì— ì €ì¥ -> ì¼ì • ì‹œê°„ í›„ Diskì— íŒŒì¼ ì“°ê¸°
- Consumerê°€ ë°ì´í„°ë¥¼ Brokerì—ì„œ ì½ì–´ê°ˆ ë•Œ ë°ì´í„°ë¥¼ `Page Cache`ì— ì˜¬ë ¤ë‘ì–´ ë™ì¼ ë°ì´í„°ë¥¼ ë‹¤ë¥¸ Consumerê°€ ì½ì„ ë•Œ ë¹ ë¥´ê²Œ ì½ì„ ìˆ˜ ìˆê²Œ í•¨
- ì¼ë°˜ì ìœ¼ë¡œëŠ” Disk IOì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ê¸°ë•Œë¬¸ì— Diskê¸°ë°˜ì´ë¼ í•˜ë©´ ëŠë¦¬ê²Œ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ ìœ„ì™€ ê°™ì€ ì²˜ë¦¬ë¥¼ í†µí•´ **ë¹ ë¥¸ ì†ë„**ë¥¼ ìœ ì§€


## ì°¸ê³ ë§í¬
- [Kafka documentation](https://kafka.apache.org/documentation/)
- [Confluent Developer - Design Overview](https://docs.confluent.io/kafka/design/index.html#topics-in-this-section)
- [Kafka: The Definitive Guide, 2nd Edition](https://learning.oreilly.com/library/view/kafka-the-definitive/9781492043072/)
- [ë°ë¸Œì›ì˜ - ë¹…ë°ì´í„°ì˜ ê¸°ë³¸ ğŸ’â€â™‚ï¸ ì•„íŒŒì¹˜ ì¹´í”„ì¹´! ê°œìš” ë° ì„¤ëª…](https://www.youtube.com/watch?v=waw0XXNX-uQ&list=PL3Re5Ri5rZmkY46j6WcJXQYRlDRZSUQ1j)  
- [ooeunz - ë°ì´í„° ëª¨ë¸: topic, partition, replication](https://ooeunz.tistory.com/115)  
- [skyer9 - Kafka ëŠ” ì™œ ë¹ ë¥¼ê¹Œ?](https://www.skyer9.pe.kr/wordpress/?p=3372)
- [TAS - í˜ì´ì§€ ìºì‹œì™€ ë²„í¼ ìºì‹œ, ê·¸ë¦¬ê³  ë¦¬ëˆ…ìŠ¤ íŒŒì¼ ì‹œìŠ¤í…œ](https://medium.com/@tas.com/%ED%8C%8C%EC%9D%BC-%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B8%B0%EC%B4%88%EC%A0%81%EC%9D%B8-%EA%B0%9C%EB%85%90%EC%A0%95%EB%A6%AC-9144dabce95d)

----